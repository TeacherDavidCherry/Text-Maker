<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Comment Receiver</title>
  <style>
    #commentList {
      border: 1px solid #ccc;
      padding: 10px;
      max-width: 600px;
      font-family: sans-serif;
    }
    .comment {
      margin-bottom: 10px;
      padding: 6px;
      background: #f5f5f5;
      border-radius: 4px;
    }
  </style>
</head>
<body>
  <h2>Comment Feed</h2>

  <div id="commentList">
    <!-- Comments will be inserted here -->
  </div>

  <script>
    // Optional: supports adding a comment from URL query param (like ?comment=hello)
    function getQueryParam(param) {
      const urlParams = new URLSearchParams(window.location.search);
      return urlParams.get(param);
    }

    function addCommentToPage(text) {
      const commentList = document.getElementById('commentList');
      const newComment = document.createElement('div');
      newComment.className = 'comment';
      newComment.textContent = text;
      commentList.appendChild(newComment);
    }

    function loadCommentForPage(pageKey) {
      const comment = localStorage.getItem('comment_' + pageKey);
      if (comment) {
        addCommentToPage(comment);
        localStorage.removeItem('comment_' + pageKey);
      }
    }

    window.onload = () => {
      // Support both query param and localStorage
      const prefilledComment = getQueryParam('comment');
      if (prefilledComment) {
        addCommentToPage(decodeURIComponent(prefilledComment));
      }

      // Replace 'M11' with the correct key for this page
      loadCommentForPage('M11');
    };
  </script>
</body>
</html>
